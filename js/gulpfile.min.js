var gulp=require("gulp"),sass=require("gulp-sass"),autoprefixer=require("gulp-autoprefixer"),sourcemaps=require("gulp-sourcemaps"),jshint=require("gulp-jshint"),concat=require("gulp-concat"),minify=require("gulp-cssnano"),uglify=require("gulp-uglify"),rename=require("gulp-rename"),imagemin=require("gulp-imagemin"),plumber=require("gulp-plumber"),notify=require("gulp-notify"),livereload=require("gulp-livereload"),changed=require("gulp-changed"),svgmin=require("gulp-svgmin"),fs=(sourcemaps=require("gulp-sourcemaps"),require("node-fs")),fse=require("fs-extra"),json=require("json-file"),plugins=require("gulp-load-plugins")({camelize:!0}),lr=require("tiny-lr"),server=lr();gulp.task("lint",function(){gulp.src(["js/*.js","themes/parallax-pro/js/*.js"]).pipe(plumber(plumberErrorHandler)).pipe(jshint()).pipe(jshint.reporter("default")).pipe(plugins.notify({message:"Lint task complete"}))}),(gulp=require("gulp")).task("svgmin",function(){return gulp.src("img/*.svg").pipe(svgmin()).pipe(gulp.dest("img/dist"))}),gulp.task("sass",function(){gulp.src("sass/parallaxchild-styles.scss").pipe(plumber(plumberErrorHandler)).pipe(sourcemaps.init()).pipe(sass()).pipe(autoprefixer()).pipe(minify()).pipe(sourcemaps.write()).pipe(gulp.dest("")).pipe(plugins.notify({message:"Styles task complete"}))}),gulp.task("plugin-scripts",function(){gulp.src("*.js").pipe(plumber(plumberErrorHandler)).pipe(rename({suffix:".min"})).pipe(uglify()).pipe(gulp.dest("js/")).pipe(plugins.notify({message:"Scripts task complete"}))}),gulp.task("images",function(){gulp.src("img/*.{png,jpg,gif}").pipe(plumber(plumberErrorHandler)).pipe(changed("img/")).pipe(plugins.imagemin({optimizationLevel:7,progressive:!0,interlaced:!0})).pipe(gulp.dest("../images")).pipe(livereload()).pipe(plugins.notify({message:"Images task complete"}))});var plumberErrorHandler={errorHandler:notify.onError({title:"Gulp",message:"Error: <%= error.message %>"})};gulp.task("watch",function(){gulp.watch("*.svg",["svgmin"]),gulp.watch("sass/*.scss",["sass"]),gulp.watch("*.js",["plugin-scripts"]),gulp.watch("plugins/parallaxchild/*.js",["plugin-scripts"])}),gulp.task("default",["watch"]);